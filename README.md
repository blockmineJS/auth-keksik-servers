# Плагин "auth-keksik-servers"

![Совместимость](https://img.shields.io/badge/серверы-MineBlaze_|_MasedWorld_|_DexLand_|_CheatMine-orange)

Плагин для автоматической регистрации/авторизации и захода на MineBlaze, MasedWorld, DexLand, CheatMine

## Обзор

Этот плагин избавляет вас от необходимости вручную вводить пароль каждый раз, когда бот заходит на сервер. Он "слушает" чат, и как только обнаруживает сообщение с просьбой авторизоваться или зарегистрироваться, автоматически отправляет нужную команду.

### Основные возможности

-   **Автоматическое определение действия:** Плагин сам понимает, нужно ли ему выполнить `/login` или `/reg`.
-   **Использование пароля бота:** Пароль берется из **основных настроек самого бота**
-   **Автоматический переход на портал:** После успешного входа плагин может автоматически отправить команду для перехода на указанный вами портал (например, `/s1`). Можно настроить отдельно в настройкахэ
-   **Экономия ресурсов:** После успешной авторизации плагин отключает свой слушатель сообщений, чтобы не нагружать систему.

## Поддерживаемые серверы

-   `mc.mineblaze.net`
-   `mc.masedworld.net`
-   `mc.dexland.org`
-   `mc.cheatmine.net`

## Установка

1.  Перейдите на вкладку **Плагины** для нужного вам бота.
2.  Откройте вкладку **Обзор**.
3.  Найдите в списке `auth-keksik-servers`.
4.  Нажмите **Установить**.

## Настройка

Для корректной работы плагина необходимо выполнить два простых шага:

#### 1. Укажите пароль для бота (ОБЯЗАТЕЛЬНО)

Плагин использует пароль, который вы задали для самого бота.

-   Перейдите на вкладку **Настройки** вашего бота.
-   В разделе "Основные настройки" найдите поле **Пароль**.
-   Введите пароль, который бот использует для входа на сервер.

> **Важно:** Если пароль для бота не будет указан, плагин не сможет работать и выведет ошибку в консоль.

#### 2. Настройте плагин

После установки плагина перейдите на вкладку **Установленные** и нажмите на иконку шестеренки (⚙️) рядом с `auth-keksik-servers`.

-   **Номер портала (`portalNumber`):** Укажите номер сервера/портала, на который бот должен перейти после авторизации. Например, если нужно ввести команду `/s5`, укажите в этом поле `5`.
    -   *Значение по умолчанию: `1`.*

## Для разработчиков

После успешного перехода на портал плагин генерирует событие `auth:portal_joined`, на которое могут подписаться другие плагины.

**Пример данных события:**
```javascript
{
  portal: 5, // Номер указанного портала
  server: 'mc.masedworld.net' // Адрес сервера
}
```

**Пример использования в другом плагине:**
```javascript
module.exports = (bot, options) => {
    bot.events.on('auth:portal_joined', (data) => {
        bot.sendLog(`Успешно зашли на портал #${data.portal} на сервере ${data.server}!`);
        // ну идальше что надо
    });
};
```
